{"remainingRequest":"C:\\Users\\carlo\\Desktop\\Ingenieria Web\\Proyecto video\\vue-video\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\carlo\\Desktop\\Ingenieria Web\\Proyecto video\\vue-video\\src\\views\\Bonos.vue?vue&type=style&index=0&id=c1c2a9ca&scoped=true&lang=css","dependencies":[{"path":"C:\\Users\\carlo\\Desktop\\Ingenieria Web\\Proyecto video\\vue-video\\src\\views\\Bonos.vue","mtime":1626663533250},{"path":"C:\\Users\\carlo\\Desktop\\Ingenieria Web\\Proyecto video\\vue-video\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\carlo\\Desktop\\Ingenieria Web\\Proyecto video\\vue-video\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1624994109000},{"path":"C:\\Users\\carlo\\Desktop\\Ingenieria Web\\Proyecto video\\vue-video\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\carlo\\Desktop\\Ingenieria Web\\Proyecto video\\vue-video\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\carlo\\Desktop\\Ingenieria Web\\Proyecto video\\vue-video\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouY29uYnRuIHsNCiAgcGFkZGluZzogM3JlbSAwIDAgMTZyZW07DQp9DQouYnRuZW1wIHsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICBwYWRkaW5nOiA5cmVtIDAgMCA2OSU7DQp9DQouY29uaDQgew0KICBwYWRkaW5nOiA3cmVtIDAgMCA4cmVtOw0KICBmb250LWZhbWlseTogR2VvcmdpYSwgJ1RpbWVzIE5ldyBSb21hbicsIFRpbWVzLCBzZXJpZjsNCiAgZm9udC1zaXplOiAycmVtOw0KfQ0KLmNvbnRibCB7DQogIHBhZGRpbmc6IDRyZW0gMXJlbSAwIDRyZW07DQp9DQouY29uZm9ybXsNCiAgICB3aWR0aDogNjZyZW07DQogICAgcGFkZGluZy10b3A6IDRyZW07DQogICAgcGFkZGluZy1sZWZ0OiAzcmVtOw0KfQ0KLmJ0bmZpbHRyb3sNCiAgbWFyZ2luLWxlZnQ6IDEuNHJlbTsNCn0NCi5idG51cGRhdGV7DQogIHBhZGRpbmc6IDAgMCAwIDA7DQp9DQo="},{"version":3,"sources":["C:\\Users\\carlo\\Desktop\\Ingenieria Web\\Proyecto video\\vue-video\\src\\views\\Bonos.vue"],"names":[],"mappings":";AAiMA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AACzB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;AACvB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;EACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACrD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACjB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;AAC3B;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACtB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACrB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC;AAClB","file":"C:/Users/carlo/Desktop/Ingenieria Web/Proyecto video/vue-video/src/views/Bonos.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"btnemp\">\r\n      <button\r\n        class=\"button is-link is-outlined is-rounded\"\r\n        @click=\"viewEmpleados\">\r\n        Empleados\r\n      </button>\r\n      <button\r\n        class=\"btnfiltro button is-link is-outlined is-rounded\"\r\n        >\r\n        Filtrar Bonos\r\n      </button>\r\n    </div>\r\n    <h4 class=\"conh4 container title is-4 has-text-grey\">Bonos Entregados</h4>\r\n    <div class=\"contbl container\">\r\n      <table class=\"table table-hover table-secondary is-fullwidth\">\r\n        <thead class=\"has-background-info\">\r\n          <tr>\r\n            <th class=\"has-text-white-ter\" scope=\"col\">ID</th>\r\n            <th class=\"has-text-white-ter\" scope=\"col\">Usuario</th>\r\n            <th class=\"has-text-white-ter\" scope=\"col\">Departamento</th>\r\n            <th class=\"has-text-white-ter\" scope=\"col\">Fecha</th>\r\n            <th class=\"has-text-white-ter\" scope=\"col\">Bono</th>\r\n            <th class=\"has-text-white-ter\" scope=\"col\">Motivo</th>\r\n            <th class=\"has-text-white-ter\" scope=\"col\">Editar</th>\r\n            <th class=\"has-text-white-ter\" scope=\"col\">Eliminar</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"item in bonos\" :key='item.id'>\r\n            <th scope=\"row\" class=\"text-secondary\">{{item.id}}</th>\r\n            <td>{{item.usuario}}</td>\r\n            <td>{{item.departamento}}</td>\r\n            <td>{{item.fecha}}</td>\r\n            <td>{{item.bono}}</td>\r\n            <td>{{item.motivo}}</td>\r\n            <td><button class=\"button is-link is-rounded is-small is-light \r\n            is-fullwidth\" @click=\"loadData(item.id)\">Editar</button></td>\r\n            <td><button class=\"button is-danger is-rounded is-small \r\n            is-light is-fullwidth\" @click=\"deleteBono(item.id)\">Eliminar</button></td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <br /><br /><br />\r\n    <form @submit.prevent=\"onSubmit\">\r\n      <div class=\"conform container\">\r\n        <div class=\"field\">\r\n          <label class=\"label\">Usuario</label>\r\n          <div class=\"control\">\r\n            <div class=\"select is-fullwidth\">\r\n              <select\r\n                id=\"inputEncargado\"\r\n                class=\"control\"\r\n                v-model=\"form.usuario\"\r\n                @change=\"inptDept(form.usuario)\"\r\n              >\r\n                <option selected>Choose...</option>\r\n                <option v-for=\"{ id, usuario } in users\" :key=\"id\">\r\n                  {{ usuario }}\r\n                </option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"field\">\r\n          <label class=\"label\">Departamento</label>\r\n          <div class=\"control\">\r\n            <div class=\"select is-fullwidth\">\r\n              <select\r\n                id=\"inputDpt\"\r\n                class=\"control\"\r\n                v-model=\"form.departamento\"\r\n              >\r\n                <option selected>Choose...</option>\r\n                <option v-for=\"{ id, departamento } in users\" :key=\"id\">\r\n                  {{ departamento }}\r\n                </option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"field\">\r\n          <label class=\"label\">Fecha</label>\r\n          <div class=\"control\">\r\n            <input class=\"input\" type=\"date\" v-model=\"form.fecha\" />\r\n          </div>\r\n        </div>\r\n        <div class=\"field\">\r\n          <label class=\"label\">Bonos</label>\r\n          <div class=\"control\">\r\n            <input\r\n              class=\"input\"\r\n              type=\"number\"\r\n              v-model=\"form.bono\"\r\n              placeholder=\"Ej. 200\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"field\">\r\n          <label class=\"label\">Motivo</label>\r\n          <div class=\"control\">\r\n            <input\r\n              class=\"input\"\r\n              type=\"text\"\r\n              v-model=\"form.motivo\"\r\n              placeholder=\"Ej. excelencia\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <button v-if=\"condicion.updt==1\" type=\"submit\" class=\"button is-link mr-4\">Crear</button>\r\n        <div class=\"btnupdate container\">\r\n      <button v-if=\"condicion.updt==2\" @click=\"update\" class=\"button is-link mr-4\">Actualizar</button>\r\n    </div>\r\n      </div>\r\n    </form>\r\n    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { createBono, useLoadUsers, deleteBono, useLoadBonos, getBono, updateBono } from \"@/firebase\";\r\nimport { reactive } from \"vue\";\r\n\r\nexport default {\r\n  setup() {\r\n    const condicion = reactive({\r\n      updt: 1,\r\n    });\r\n\r\n    const form = reactive({\r\n      usuario: \"\",\r\n      departamento: \"\",\r\n      fecha: \"\",\r\n      bono: \"\",\r\n      motivo: \"\",\r\n    });\r\n\r\n    const onSubmit = async () => {\r\n      await createBono({ ...form });\r\n      form.usuario = \"\";\r\n      form.departamento = \"\";\r\n      form.fecha = \"\";\r\n      form.bono = \"\";\r\n      form.motivo = \"\";\r\n    };\r\n\r\n    let idBono = \"\"\r\n    const loadData = async (bonoId) => {\r\n      idBono = bonoId\r\n      const bono = await getBono(bonoId)\r\n      form.usuario = bono.usuario\r\n      form.departamento = bono.departamento\r\n      form.fecha = bono.fecha\r\n      form.bono = bono.bono\r\n      form.motivo = bono.motivo\r\n      condicion.updt = 2\r\n      console.log(condicion.updt)\r\n    }\r\n\r\n    const update = async () => {\r\n      await updateBono(idBono, {...form})\r\n      form.usuario = \"\";\r\n      form.departamento = \"\";\r\n      form.fecha = \"\";\r\n      form.bono = \"\";\r\n      form.motivo = \"\";\r\n      condicion.updt = 1\r\n    }\r\n\r\n    const users = useLoadUsers();\r\n    const bonos = useLoadBonos();\r\n\r\n    return { form, condicion, onSubmit, users, bonos, deleteBono, loadData, update };\r\n  },\r\n  methods: {\r\n    viewEmpleados() {\r\n      this.$router.push({ name: \"Empleados\" });\r\n    },\r\n    inptDept(nombre){\r\n        this.users.forEach(x => {\r\n            if(x.usuario==nombre){\r\n                this.form.departamento = x.departamento\r\n            }\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.conbtn {\r\n  padding: 3rem 0 0 16rem;\r\n}\r\n.btnemp {\r\n  position: absolute;\r\n  padding: 9rem 0 0 69%;\r\n}\r\n.conh4 {\r\n  padding: 7rem 0 0 8rem;\r\n  font-family: Georgia, 'Times New Roman', Times, serif;\r\n  font-size: 2rem;\r\n}\r\n.contbl {\r\n  padding: 4rem 1rem 0 4rem;\r\n}\r\n.conform{\r\n    width: 66rem;\r\n    padding-top: 4rem;\r\n    padding-left: 3rem;\r\n}\r\n.btnfiltro{\r\n  margin-left: 1.4rem;\r\n}\r\n.btnupdate{\r\n  padding: 0 0 0 0;\r\n}\r\n</style>\r\n\r\n"]}]}